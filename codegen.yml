overwrite: true
hooks:
  afterAllFileWrite:
    - prettier --write
generates:
  graphql_schema_generated.ts:
    schema: ./modules/**/*.gql
    plugins:
      - add:
          content: |
            import { gql } from 'apollo-server-express';
            export const schema = gql`
            #\n# THIS FILE IS AUTOGENERATED — DO NOT EDIT IT\n#
      - schema-ast
      - add:
          placement: 'append'
          content: '`;'
  schema.ts:
    schema: ./modules/**/*.gql
    plugins:
      - add:
          content: "/*\n * THIS FILE IS AUTOGENERATED — DO NOT EDIT IT\n */"
      - typescript
      - typescript-resolvers
    config:
      declarationKind: interface
      immutableTypes: false
      useIndexSignature: true
      enumsAsTypes: true
      contextType: ./app/Context#Context
      #defaultMapper: Partial<{T}> #uncomment this to handle partial query resolution easier
      scalars:
        #    Binary: Buffer
        #    Cursor: string
        Date: Date
        UUID: string
        GqlBigNumber: string
        Bytes: string
        BigDecimal: string
        BigInt: string