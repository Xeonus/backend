query BalancerProtocolData(
    $skip: Int
    $first: Int
    $orderBy: BalancerSubgraph_Balancer_orderBy
    $orderDirection: BalancerSubgraph_OrderDirection
    $where: BalancerSubgraph_Balancer_filter
    $block: BalancerSubgraph_Block_height
) {
    balancers: BalancerSubgraph_balancers(
        skip: $skip
        first: $first
        orderBy: $orderBy
        orderDirection: $orderDirection
        where: $where
        block: $block
    ) {
        id
        totalLiquidity
        totalSwapVolume
        totalSwapFee
        poolCount
    }
}

query BalancerUser($id: ID!, $block: BalancerSubgraph_Block_height) {
    user: BalancerSubgraph_user(id: $id, block: $block) {
        ...BalancerUser
    }
}

query BalancerUsers(
    $skip: Int
    $first: Int
    $orderBy: BalancerSubgraph_User_orderBy
    $orderDirection: BalancerSubgraph_OrderDirection
    $where: BalancerSubgraph_User_filter
    $block: BalancerSubgraph_Block_height
) {
    users: BalancerSubgraph_users(
        skip: $skip
        first: $first
        orderBy: $orderBy
        orderDirection: $orderDirection
        where: $where
        block: $block
    ) {
        ...BalancerUser
    }
}

fragment BalancerUser on BalancerSubgraph_User {
    __typename
    id
    sharesOwned(first: 1000) {
        id
        balance
        poolId {
            id
        }
    }
}

query BalancerPoolShares(
    $skip: Int
    $first: Int
    $orderBy: BalancerSubgraph_PoolShare_orderBy
    $orderDirection: BalancerSubgraph_OrderDirection
    $where: BalancerSubgraph_PoolShare_filter
    $block: BalancerSubgraph_Block_height
) {
    poolShares: BalancerSubgraph_poolShares(
        skip: $skip
        first: $first
        orderBy: $orderBy
        orderDirection: $orderDirection
        where: $where
        block: $block
    ) {
        ...BalancerPoolShare
    }
}

fragment BalancerPoolShare on BalancerSubgraph_PoolShare {
    __typename
    id
    balance
}

query BalancerTokenPrices(
    $skip: Int
    $first: Int
    $orderBy: BalancerSubgraph_TokenPrice_orderBy
    $orderDirection: BalancerSubgraph_OrderDirection
    $where: BalancerSubgraph_TokenPrice_filter
    $block: BalancerSubgraph_Block_height
) {
    tokenPrices: BalancerSubgraph_tokenPrices(
        skip: $skip
        first: $first
        orderBy: $orderBy
        orderDirection: $orderDirection
        where: $where
        block: $block
    ) {
        ...BalancerTokenPrice
    }
}

fragment BalancerTokenPrice on BalancerSubgraph_TokenPrice {
    __typename
    id
    poolId {
        id
    }
    asset
    amount
    pricingAsset
    price
    block
    timestamp
    priceUSD
}

fragment BalancerPool on BalancerSubgraph_Pool {
    __typename
    id
    address
    poolType
    symbol
    name
    swapFee
    totalWeight
    totalSwapVolume
    totalSwapFee
    totalLiquidity
    totalShares
    swapsCount
    holdersCount
    createTime
    swapEnabled
    tokensList
    lowerTarget
    upperTarget
    mainIndex
    wrappedIndex
    factory
    expiryTime
    unitSeconds
    principalToken
    baseToken
    owner
    amp

    tokens {
        ...BalancerPoolToken
    }
}

fragment BalancerPoolToken on BalancerSubgraph_PoolToken {
    __typename
    id
    symbol
    name
    decimals
    address
    balance
    invested
    weight
    priceRate
}

query BalancerPools(
    $skip: Int
    $first: Int
    $orderBy: BalancerSubgraph_Pool_orderBy
    $orderDirection: BalancerSubgraph_OrderDirection
    $where: BalancerSubgraph_Pool_filter
    $block: BalancerSubgraph_Block_height
) {
    pools: BalancerSubgraph_pools(
        skip: $skip
        first: $first
        orderBy: $orderBy
        orderDirection: $orderDirection
        where: $where
        block: $block
    ) {
        ...BalancerPool
    }
}

query BalancerPool($id: ID!, $block: BalancerSubgraph_Block_height) {
    pool: BalancerSubgraph_pool(id: $id, block: $block) {
        ...BalancerPool
    }
}

query BalancerPoolHistoricalLiquidities(
    $skip: Int
    $first: Int
    $orderBy: BalancerSubgraph_PoolHistoricalLiquidity_orderBy
    $orderDirection: BalancerSubgraph_OrderDirection
    $where: BalancerSubgraph_PoolHistoricalLiquidity_filter
    $block: BalancerSubgraph_Block_height
) {
    poolHistoricalLiquidities: BalancerSubgraph_poolHistoricalLiquidities(
        skip: $skip
        first: $first
        orderBy: $orderBy
        orderDirection: $orderDirection
        where: $where
        block: $block
    ) {
        id
        poolId {
            id
        }
        poolTotalShares
        poolLiquidity
        poolShareValue
        pricingAsset
        block
    }
}

query BalancerPoolSnapshots(
    $skip: Int
    $first: Int
    $orderBy: BalancerSubgraph_PoolSnapshot_orderBy
    $orderDirection: BalancerSubgraph_OrderDirection
    $where: BalancerSubgraph_PoolSnapshot_filter
    $block: BalancerSubgraph_Block_height
) {
    poolSnapshots: BalancerSubgraph_poolSnapshots(
        skip: $skip
        first: $first
        orderBy: $orderBy
        orderDirection: $orderDirection
        where: $where
        block: $block
    ) {
        ...BalancerPoolSnapshot
    }
}

fragment BalancerPoolSnapshot on BalancerSubgraph_PoolSnapshot {
    __typename
    id
    pool {
        id
    }
    totalShares
    swapVolume
    swapFees
    timestamp
}

query BalancerLatestPrices(
    $skip: Int
    $first: Int
    $orderBy: BalancerSubgraph_LatestPrice_orderBy
    $orderDirection: BalancerSubgraph_OrderDirection
    $where: BalancerSubgraph_LatestPrice_filter
    $block: BalancerSubgraph_Block_height
) {
    latestPrices: BalancerSubgraph_latestPrices(
        skip: $skip
        first: $first
        orderBy: $orderBy
        orderDirection: $orderDirection
        where: $where
        block: $block
    ) {
        ...BalancerLatestPrice
    }
}

query BalancerLatestPrice($id: ID!) {
    latestPrice: BalancerSubgraph_latestPrice(id: $id) {
        ...BalancerLatestPrice
    }
}

query BalancerJoinExits(
    $skip: Int
    $first: Int
    $orderBy: BalancerSubgraph_JoinExit_orderBy
    $orderDirection: BalancerSubgraph_OrderDirection
    $where: BalancerSubgraph_JoinExit_filter
    $block: BalancerSubgraph_Block_height
) {
    joinExits: BalancerSubgraph_joinExits(
        skip: $skip
        first: $first
        orderBy: $orderBy
        orderDirection: $orderDirection
        where: $where
        block: $block
    ) {
        ...BalancerJoinExit
    }
}

fragment BalancerLatestPrice on BalancerSubgraph_LatestPrice {
    __typename
    id
    asset
    price
    poolId {
        id
    }
    pricingAsset
    block
    priceUSD
}

fragment BalancerJoinExit on BalancerSubgraph_JoinExit {
    __typename
    amounts
    id
    sender
    timestamp
    tx
    type
    user {
        id
    }
    pool {
        id
        tokensList
    }
    valueUSD
}

query BalancerPortfolioData($id: ID!, $previousBlockNumber: Int!) {
    user: BalancerSubgraph_user(id: $id) {
        ...BalancerUser
    }
    previousUser: BalancerSubgraph_user(id: $id, block: { number: $previousBlockNumber }) {
        ...BalancerUser
    }
}

query BalancerPortfolioPoolsData($previousBlockNumber: Int!) {
    pools: BalancerSubgraph_pools(first: 1000, where: { totalShares_gt: "0" }) {
        ...BalancerPool
    }

    previousPools: BalancerSubgraph_pools(
        first: 1000
        where: { totalShares_gt: "0" }
        block: { number: $previousBlockNumber }
    ) {
        ...BalancerPool
    }
}

query BalancerTradePairSnapshots(
    $skip: Int
    $first: Int
    $orderBy: BalancerSubgraph_TradePairSnapshot_orderBy
    $orderDirection: BalancerSubgraph_OrderDirection
    $where: BalancerSubgraph_TradePairSnapshot_filter
    $block: BalancerSubgraph_Block_height
) {
    tradePairSnapshots: BalancerSubgraph_tradePairSnapshots(
        skip: $skip
        first: $first
        orderBy: $orderBy
        orderDirection: $orderDirection
        where: $where
        block: $block
    ) {
        ...BalancerTradePairSnapshot
    }
}

fragment BalancerTradePairSnapshot on BalancerSubgraph_TradePairSnapshot {
    __typename
    id
    totalSwapFee
    totalSwapVolume
    timestamp
    pair {
        token0 {
            address
            symbol
        }
        token1 {
            address
            symbol
        }
    }
}

query BalancerSwaps(
    $skip: Int
    $first: Int
    $orderBy: BalancerSubgraph_Swap_orderBy
    $orderDirection: BalancerSubgraph_OrderDirection
    $where: BalancerSubgraph_Swap_filter
    $block: BalancerSubgraph_Block_height
) {
    swaps: BalancerSubgraph_swaps(
        skip: $skip
        first: $first
        orderBy: $orderBy
        orderDirection: $orderDirection
        where: $where
        block: $block
    ) {
        ...BalancerSwap
    }
}

fragment BalancerSwap on BalancerSubgraph_Swap {
    __typename
    id
    caller
    tokenIn
    tokenInSym
    tokenOut
    tokenOutSym
    tokenAmountIn
    tokenAmountOut
    poolId {
        id
    }
    userAddress {
        id
    }
    timestamp
    tx
    valueUSD
}
